"use strict";(self.webpackChunkomnitab=self.webpackChunkomnitab||[]).push([[939],{78939:(e,l,n)=>{n.r(l),n.d(l,{default:()=>Oe});var a=n(9642),i=(n(12522),n(19860)),t=(n(30811),n(66252)),o=n(56612),c=n(49963),r={class:"bg-setting"},s={class:"left-list-bar"},u={class:"list-body"},g=(0,t._)("i",{class:"iconfont icon-tupian2"},null,-1),d=(0,t._)("i",{class:"iconfont icon-dongtai"},null,-1),f=(0,t._)("i",{class:"iconfont icon-seban"},null,-1),p=(0,t._)("i",{class:"iconfont icon-bendishangchuan"},null,-1),m=(0,t._)("i",{class:"iconfont icon-yunshangchuan"},null,-1),v={class:"right-list-bar"},b={class:"right-list"},h=["onClick"],w=(0,t._)("div",{class:"img-state"},[(0,t._)("i",{class:"iconfont icon-queding"}),(0,t._)("i",{class:"iconfont icon-loading"})],-1),y={class:"right-list"},C={class:"list-item file",style:{cursor:"auto"}},k=(0,t._)("i",{class:"iconfont icon-tupiantianchong"},null,-1),_={style:{"z-index":"1",cursor:"pointer"}},I=(0,t.Uk)("  "),U={class:"img-state"},L={class:"img-number"},T=["onClick"],F=["src"],S={class:"img-state"},B=(0,t._)("i",{class:"iconfont icon-queding"},null,-1),z=(0,t._)("i",{class:"iconfont icon-loading"},null,-1),H=["onClick"],D={class:"right-list"},O=(0,t._)("i",{class:"iconfont icon-tupiantianchong"},null,-1),j={class:"img-state"},W={class:"login"},N=["onClick"],x={class:"img-state"},A=(0,t._)("i",{class:"iconfont icon-queding"},null,-1),P=(0,t._)("i",{class:"iconfont icon-loading"},null,-1),$=["onClick"],V={class:"search-add-title"},K=["placeholder"],q={class:"btns"};var M=n(12860),E=n(2262),Y=n(9669),Z=n.n(Y),R=n(37118),J=n(93971),G=n(81440),Q=n(70136),X={class:"cloud-type-bar"},ee=["onClick"],le={class:"right-list-cloud"},ne=["onClick"],ae={class:"image-slot",style:{}},ie={class:"spinner-inner"},te={class:"spin-wrapper"},oe={class:"spin-spinning"},ce=["src"],re={key:0,class:"img-desc"},se={class:"img-state"},ue=["onClick"],ge=(0,t._)("i",{class:"iconfont icon-queding"},null,-1),de=(0,t._)("i",{class:"iconfont icon-loading"},null,-1),fe={class:"loading-next",style:{}},pe={class:"loading-next-icon"},me={class:"spin-wrapper"},ve={class:"spin-spinning"},be=["src"],he={class:"loading-next"},we={class:"loading-text-wrapper"},ye=["poster","src"],Ce=["src"],ke={class:"full-screen-img-btn-box"},_e={class:"full-screen-img-btns"},Ie=(0,t._)("i",{class:"iconfont icon-close1"},null,-1);var Ue=n(4942);function Le(e,l){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);l&&(a=a.filter((function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var l=1;l<arguments.length;l++){var n=null!=arguments[l]?arguments[l]:{};l%2?Le(Object(n),!0).forEach((function(l){(0,Ue.Z)(e,l,n[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(l){Object.defineProperty(e,l,Object.getOwnPropertyDescriptor(n,l))}))}return e}const Fe=(0,t.aZ)({name:"bgSetting",emits:["itemClick"],props:{show:{type:Boolean,default:!1},className:{type:String,default:"rightListCloud"},urlName:{type:String,default:"url"},bgUrl:{type:String,default:""},changeToUrl:{type:String,default:""},isVideo:{type:Boolean,default:!1},screenWidth:{type:Number,default:0}},setup:function(e,l){var n=(0,E.iH)(!1);localStorage.getItem("config")&&(n.value=JSON.parse(localStorage.getItem("config")).themeDark||!1);var a=(0,E.iH)("all"),i=(0,E.iH)([]),o=(0,E.iH)([]),c=(0,E.iH)({load:!1,id:"",url:"",thumb:"",show:!1}),r=1,s=!1,u=(0,E.iH)(!1),g=(0,E.iH)(!1),d=null;function f(l,n,a,t){Z()({methods:"get",url:Q.KB+(e.isVideo?"/video/list":"/wallpaper/list"),params:{type:l,page:n},timeout:3e3}).then((function(e){e.data?(i.value=i.value.concat(e.data),u.value=!0):(u.value=!1,g.value=!0)})).catch((function(e){})).finally((function(){a&&a()}))}return f("all",1),Z()({methods:"get",url:Q.KB+(e.isVideo?"/video/allCategory":"/wallpaper/allCategory")}).then((function(e){var l;e.data&&("编辑"===(l="menuEdit",chrome.i18n.getMessage(l))?o.value=e.data:o.value=e.data.map((function(e){return Te(Te({},e),{},{name:e.en_name})})))})),(0,t.bv)((function(){})),{bgList:i,cloudTypeList:o,selectedCloudType:a,fullScreenConfig:c,cloudHasNextPage:u,cloudBottomLine:g,themeDark:n,showFullScreen:function(e){d=R.kN.service({lock:!0,text:"",background:"rgba(0, 0, 0, 0.7)"}),c.value.id=e.id,c.value.url=e.url,c.value.thumb=e.thumb||"",c.value.show=!0},closeFullScreen:function(){d&&d.close()},cloudScrollFunc:function(l){if(!s&&u.value){var n=document.querySelector("."+e.className);Math.floor(n.scrollHeight-n.offsetHeight-n.scrollTop)<=30&&(s=!0,r+=1,f(a.value,r,(function(){setTimeout((function(){s=!1}),1e3)})))}},changeCloudType:function(l){if(l!==a.value){r=1,u.value=!1,g.value=!1,a.value=l;var n=R.kN.service({target:document.querySelector(".right-list")});document.querySelector("."+e.className).scrollTop=0,i.value=[],f(a.value,r,(function(){n.close()}))}},itemClick:function(e){l.emit("itemClick",e)}}}});var Se=n(83744);const Be=(0,Se.Z)(Fe,[["render",function(e,l,n,a,r,s){var u=i.F8;return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.wy)((0,t._)("div",X,[(0,t._)("div",{class:(0,o.C_)(["cloud-type",{selected:"all"===e.selectedCloudType}]),onClick:l[0]||(l[0]=function(l){return e.changeCloudType("all")})},(0,o.zw)(e.$tr("all")),3),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.cloudTypeList,(function(l){return(0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["cloud-type",{selected:e.selectedCloudType===l.type}]),onClick:function(n){return e.changeCloudType(l.type)}},(0,o.zw)(l.name),11,ee)})),256))],512),[[c.F8,e.show]]),(0,t.wy)((0,t._)("div",{class:(0,o.C_)(["right-list",e.className]),onWheel:l[1]||(l[1]=function(){return e.cloudScrollFunc&&e.cloudScrollFunc.apply(e,arguments)})},[(0,t._)("div",le,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.bgList,(function(l){return(0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["list-item",{true:e.bgUrl===l[e.urlName],loading:e.changeToUrl&&e.changeToUrl!==e.bgUrl&&e.changeToUrl===l[e.urlName]}]),onClick:function(n){return e.itemClick(l)}},[(0,t.Wm)(u,{src:l[e.urlName]+"?imageView2/2/w/200/format/webp/interlace/1",fit:"cover"},{placeholder:(0,t.w5)((function(){return[(0,t._)("div",ae,[(0,t._)("div",ie,[(0,t._)("div",te,[(0,t._)("div",oe,[(0,t._)("img",{src:e.themeDark?"../assets/webIcon/dloading.gif":"../assets/webIcon/lloading.gif",alt:""},null,8,ce)])])])])]})),_:2},1032,["src"]),l.caption?((0,t.wg)(),(0,t.iD)("div",re,[(0,t._)("p",null,(0,o.zw)(l.caption),1)])):(0,t.kq)("",!0),(0,t._)("div",se,[(0,t.wy)((0,t._)("i",{class:"iconfont icon-quanping",onClick:(0,c.iM)((function(n){return e.showFullScreen(l)}),["stop"])},null,8,ue),[[c.F8,e.bgUrl!==l[e.urlName]&&e.changeToUrl!==l[e.urlName]]]),ge,de])],10,ne)})),256))]),(0,t.wy)((0,t._)("div",fe,[(0,t._)("div",pe,[(0,t._)("div",me,[(0,t._)("div",ve,[(0,t._)("img",{src:e.themeDark?"../assets/webIcon/dloading.gif":"../assets/webIcon/lloading.gif",alt:""},null,8,be)])])])],512),[[c.F8,e.cloudHasNextPage]]),(0,t.wy)((0,t._)("div",he,[(0,t._)("div",we,(0,o.zw)(e.$tr("noMoreBottom")),1)],512),[[c.F8,e.cloudBottomLine]])],34),[[c.F8,e.show]]),e.fullScreenConfig.show?((0,t.wg)(),(0,t.iD)("div",{key:0,class:"full-screen-img",style:(0,o.j5)({backgroundImage:"url('"+(e.fullScreenConfig.thumb||e.fullScreenConfig.url)+"?imageView2/2/w/200/format/webp/interlace/1')"}),onClick:l[5]||(l[5]=function(l){return e.fullScreenConfig.show=!1})},[e.fullScreenConfig.thumb?((0,t.wg)(),(0,t.iD)("video",{key:0,autoplay:"",loop:"",onPlay:l[2]||(l[2]=function(){return e.closeFullScreen&&e.closeFullScreen.apply(e,arguments)}),poster:e.fullScreenConfig.thumb+"?imageView2/2/w/".concat(e.screenWidth,"/format/webp/interlace/1"),src:e.fullScreenConfig.url},null,40,ye)):((0,t.wg)(),(0,t.iD)("img",{key:1,onLoad:l[3]||(l[3]=function(){return e.closeFullScreen&&e.closeFullScreen.apply(e,arguments)}),src:e.fullScreenConfig.url+"?imageView2/2/w/".concat(e.screenWidth,"/format/webp/interlace/1"),alt:""},null,40,Ce)),(0,t._)("div",ke,[(0,t._)("div",_e,[(0,t._)("i",{class:"iconfont icon-duihao",onClick:l[4]||(l[4]=function(l){return e.itemClick(e.fullScreenConfig)})}),Ie])])],4)):(0,t.kq)("",!0)],64)}]]);var ze=n(69483),He=n.n(ze);const De=(0,t.aZ)({name:"bgSetting",props:{bgUrl:{type:String,default:""},bgIsChanging:{type:Boolean,default:!1},isLoginFlag:{type:Boolean,default:!1},screenWidth:{type:Number,default:0}},components:{cloudBgList:Be},setup:function(e,l){var n=function(e){return chrome.i18n.getMessage(e)},a=(0,E.iH)("cloud"),i=(0,E.iH)(null),o=(0,E.iH)(null),c=(0,E.iH)(9),r=(0,E.iH)([]),s=(0,E.iH)([]),u=(0,E.iH)(""),g=(0,E.iH)("../assets/webIcon/image.svg"),d=(0,E.iH)(!1),f=(0,E.iH)({show:!1,url:""});He().setItem("key1","value1");var p=(0,E.iH)(["rgba(204,230,255)","rgba(203,215,255)","rgba(124,169,234)","rgba(160,182,255)","rgba(161,209,255)","rgba(123,151,234)","rgba(254,201,221)","rgba(235,202,255)","rgba(255,175,204)","rgba(248,127,172)","rgba(210,132,252)","rgba(226,180,255)","rgba(244,195,139)","rgba(255,227,195)","rgba(240,152,128)","rgba(249,175,140)","rgba(252,196,171)","rgba(208,224,185)","rgba(182,201,155)","rgba(152,169,125)","rgba(225,225,225)","rgba(159,159,159)","rgba(0,0,0)"]);chrome.storage.local.get(["bgLocalList","uploadImageList"],(function(e){r.value=e.bgLocalList.map((function(e){return{base:e,url:e.match(/^http/)?e:URL.createObjectURL((0,G.$O)(e)),length:11}})),e.uploadImageList&&(s.value=e.uploadImageList)})),(0,t.YP)((function(){return e.isLoginFlag}),(function(e,l){0==l&&1==e&&chrome.storage.local.get(["token"],(function(e){var l=R.kN.service({lock:!0,text:n("Processing"),background:"rgba(0, 0, 0, 0.7)"});Z().post(Q.KB+"/wallpaper/uploadSync",{uuid:""},{headers:{certified:e.token}}).then((function(e){e.data&&e.data.length>0?(s.value=e.data.map((function(e){return e.url})),chrome.storage.local.set({uploadImageList:e.data.map((function(e){return e.url}))})):chrome.storage.local.remove(["uploadImageList"],(function(){chrome.runtime.lastError}))})).catch((function(e){(0,J.z8)({message:n("UploadSyncFailure"),type:"error"})})).finally((function(){l.close()}))}))}));var m=function(){g.value="../assets/webIcon/image.svg",f.value.show=!1,f.value.url="",d.value=!1};return(0,t.bv)((function(){})),{activeAddIconTabs:a,solidList:p,fileInput:i,fileUploadInput:o,bgLocalList:r,uploadList:s,changeToUrl:u,selectBorderTop:c,webImageConfig:f,webImageUrl:g,webImageHasPreview:d,addWebImage:function(){var e=f.value.url;e?r.value.find((function(l){return l.base===e}))?(0,J.z8)({showClose:!0,message:n("repeatExpInfo"),type:"warning"}):(r.value=[{base:e,url:e,length:11}].concat(r.value),chrome.storage.local.set({bgLocalList:r.value.map((function(e){return e.base}))}),m()):m()},webImagePreview:function(){g.value=f.value.url,Z()({methods:"get",url:f.value.url}).then((function(e){var l=new Image;l.setAttribute("crossOrigin",""),l.onload=function(){g.value=f.value.url,d.value=!0},l.src=f.value.url})).catch((function(e){g.value="",f.value.url="",(0,M.Z)("webImageHasPreview")}))},cancelWebImage:m,changeAddLeftBarBorder:function(e,l){a.value!==l&&(c.value=e.target.offsetHeight/2+e.target.offsetTop-11,a.value=l)},itemClick:function(a){e.bgIsChanging?(0,J.z8)({showClose:!1,message:n("clickMoreInfo"),type:"warning"}):a.id?(Z()({methods:"get",url:Q.KB+"/updateSort",params:{id:a.id},timeout:3e3}),a.thumb?(u.value=a.thumb,l.emit("changeBgUrl",a)):(u.value=a.url,l.emit("changeBgUrl",a.url))):(u.value=a,l.emit("changeBgUrl",a,"local"))},fileInputClick:function(){20===r.value.length?(0,J.z8)({showClose:!0,message:n("imgUpperLimit"),type:"warning"}):i.value.click()},fileUploadInputClick:function(){e.isLoginFlag&&(2===s.value.length?(0,J.z8)({showClose:!0,message:n("imgUpperLimit"),type:"warning"}):o.value.click())},webImageClick:function(){f.value.show=!0},fileInputChange:function(){He().setItem("key1","value1"),i.value.files.length>0&&(0,G.n5)(i.value.files[0],(function(e){r.value.find((function(l){return l.base===e}))?(0,J.z8)({showClose:!0,message:n("repeatExpInfo"),type:"warning"}):(r.value=[{base:e,url:URL.createObjectURL((0,G.$O)(e)),length:11}].concat(r.value),chrome.storage.local.set({bgLocalList:r.value.map((function(e){return e.base}))})),i.value.value=""}))},fileUploadInputChange:function(){chrome.storage.local.get(["token"],(function(e){if(o.value.files.length>0){var l=R.kN.service({lock:!0,text:n("Processing"),background:"rgba(0, 0, 0, 0.7)"}),a=o.value.files[0].name,i=a.substring(a.lastIndexOf(".")+1);Z().post(Q.KB+"/wallpaper/uploadToken",{fileType:i},{headers:{certified:e.token}}).then((function(e){if(200===e.data.statusCode){var a=e.data.upToken,i=e.data.key,t=e.data.baseImageUrl,c=e.data.host,r=new FormData;r.append("token",a),r.append("file",o.value.files[0]),r.append("key",i),Z()({method:"POST",url:c,data:r,onUploadProgress:function(e){Math.round(100*e.loaded/e.total)}}).then((function(e){if(200===e.status){var l=t+e.data.key;s.value.push(l),chrome.storage.local.set({uploadImageList:Array.from(s.value)})}else(0,J.z8)({message:n("UploadImageFailure"),type:"error"})})).catch((function(e){(0,J.z8)({message:n("UploadImageFailure"),type:"error"}),l.close()})).finally((function(){l.close(),o.value.value=""}))}else 504===e.data.statusCode?((0,J.z8)({message:n("UploadExceedFailure"),type:"error"}),l.close()):((0,J.z8)({message:n("UploadInitFailure"),type:"error"}),l.close())})).catch((function(e){(0,J.z8)({message:n("UploadInitFailure"),type:"error"})})).finally((function(){o.value.value=""}))}}))},deleteLocal:function(e){r.value.splice(e,1),chrome.storage.local.set({bgLocalList:r.value.map((function(e){return e.base}))})},deleteUpload:function(e,l){chrome.storage.local.get(["token"],(function(a){var i=R.kN.service({lock:!0,text:n("Processing"),background:"rgba(0, 0, 0, 0.7)"}),t=l.substring(l.lastIndexOf("/")+1);Z().post(Q.KB+"/wallpaper/uploadDelete",{fileName:t},{headers:{certified:a.token}}).then((function(l){200===l.data.statusCode?(s.value.splice(e,1),chrome.storage.local.set({uploadImageList:Array.from(s.value)})):(0,J.z8)({message:n("UploadDeleteFailure"),type:"error"})})).catch((function(e){(0,J.z8)({message:n("UploadDeleteFailure"),type:"error"})})).finally((function(){i.close()}))}))},openLogin:function(){l.emit("openLogin")}}}}),Oe=(0,Se.Z)(De,[["render",function(e,l,n,M,E,Y){var Z=(0,t.up)("cloudBgList"),R=i.F8,J=a.d0;return(0,t.wg)(),(0,t.iD)("div",r,[(0,t._)("div",s,[(0,t._)("div",u,[(0,t._)("div",{class:(0,o.C_)("list-item "+("cloud"===e.activeAddIconTabs)),onClick:l[0]||(l[0]=function(l){return e.changeAddLeftBarBorder(l,"cloud")})},[g,(0,t._)("div",null,(0,o.zw)(e.$tr("staticBg")),1)],2),(0,t._)("div",{class:(0,o.C_)("list-item "+("video"===e.activeAddIconTabs)),onClick:l[1]||(l[1]=function(l){return e.changeAddLeftBarBorder(l,"video")})},[d,(0,t._)("div",null,(0,o.zw)(e.$tr("dynamicBg")),1)],2),(0,t._)("div",{class:(0,o.C_)("list-item "+("solid"===e.activeAddIconTabs)),onClick:l[2]||(l[2]=function(l){return e.changeAddLeftBarBorder(l,"solid")})},[f,(0,t._)("div",null,(0,o.zw)(e.$tr("solidBg")),1)],2),(0,t._)("div",{class:(0,o.C_)("list-item "+("local"===e.activeAddIconTabs)),onClick:l[3]||(l[3]=function(l){return e.changeAddLeftBarBorder(l,"local")})},[p,(0,t._)("div",null,(0,o.zw)(e.$tr("localBg")),1)],2),(0,t._)("div",{class:(0,o.C_)("list-item "+("upload"===e.activeAddIconTabs)),onClick:l[4]||(l[4]=function(l){return e.changeAddLeftBarBorder(l,"upload")})},[m,(0,t._)("div",null,(0,o.zw)(e.$tr("CloudWallpaper")),1)],2)])]),(0,t._)("div",v,[(0,t.Wm)(Z,{show:"cloud"===e.activeAddIconTabs,bgUrl:e.bgUrl,screenWidth:e.screenWidth,onItemClick:e.itemClick,changeToUrl:e.changeToUrl},null,8,["show","bgUrl","screenWidth","onItemClick","changeToUrl"]),(0,t.Wm)(Z,{show:"video"===e.activeAddIconTabs,className:"rightListVideo",urlName:"thumb",bgUrl:e.bgUrl,screenWidth:e.screenWidth,onItemClick:e.itemClick,changeToUrl:e.changeToUrl,isVideo:""},null,8,["show","bgUrl","screenWidth","onItemClick","changeToUrl"]),(0,t.wy)((0,t._)("div",b,[(0,t._)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.solidList,(function(l){return(0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["list-item",{true:e.bgUrl===l,loading:e.changeToUrl&&e.changeToUrl!==e.bgUrl&&e.changeToUrl===l}]),onClick:function(n){return e.itemClick(l)}},[(0,t._)("div",{class:"bg-img",style:(0,o.j5)({backgroundColor:l})},null,4),w],10,h)})),256))])],512),[[c.F8,"solid"===e.activeAddIconTabs]]),(0,t.wy)((0,t._)("div",y,[(0,t._)("div",null,[(0,t._)("div",C,[k,(0,t._)("div",_,[(0,t._)("span",{class:"operate",onClick:l[5]||(l[5]=function(){return e.fileInputClick&&e.fileInputClick.apply(e,arguments)})},(0,o.zw)(e.$tr("LocalImages")),1),I,(0,t._)("span",{class:"operate",onClick:l[6]||(l[6]=function(){return e.webImageClick&&e.webImageClick.apply(e,arguments)})},(0,o.zw)(e.$tr("ImageLink")),1)]),(0,t._)("span",U,[(0,t._)("label",L,(0,o.zw)(e.bgLocalList.length)+"/20",1)]),(0,t._)("input",{ref:"fileInput",onChange:l[7]||(l[7]=function(){return e.fileInputChange&&e.fileInputChange.apply(e,arguments)}),style:{display:"none"},type:"file",name:"file",accept:"image/gif, image/jpeg, image/jfif, image/jpg, image/png, image/pjpeg, image/pjp, image/webp,image/svg+xml"},null,544)]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.bgLocalList,(function(l,n){return(0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["list-item",{true:e.bgUrl===l.base,loading:e.changeToUrl&&e.changeToUrl!==e.bgUrl&&e.changeToUrl===l.base}]),onClick:function(n){return e.itemClick(l.base)}},[(0,t._)("img",{class:"bg-img",src:l.url,alt:"",decoding:"async",style:{"image-rendering":"auto"}},null,8,F),(0,t._)("div",S,[B,z,(0,t.wy)((0,t._)("i",{class:"iconfont icon-shanchu1 close-btn",onClick:(0,c.iM)((function(l){return e.deleteLocal(n)}),["stop"])},null,8,H),[[c.F8,e.bgUrl!==l.base]])])],10,T)})),256))])],512),[[c.F8,"local"===e.activeAddIconTabs]]),(0,t.wy)((0,t._)("div",D,[(0,t._)("div",null,[(0,t._)("div",{class:(0,o.C_)(["list-item file",{isDidabled:!e.isLoginFlag}]),onClick:l[10]||(l[10]=function(){return e.fileUploadInputClick&&e.fileUploadInputClick.apply(e,arguments)})},[O,(0,t._)("div",null,(0,o.zw)(e.$tr("fileInputClick")),1),(0,t.wy)((0,t._)("div",{style:{color:"rgb(241, 34, 35)"}},(0,o.zw)(e.$tr("LoginToUse")),513),[[c.F8,!e.isLoginFlag]]),(0,t._)("span",j,[(0,t.wy)((0,t._)("label",null,"0/2",512),[[c.F8,!e.isLoginFlag]]),(0,t.wy)((0,t._)("label",null,(0,o.zw)(e.uploadList.length)+"/2",513),[[c.F8,e.isLoginFlag]])]),(0,t.wy)((0,t._)("div",W,[(0,t._)("span",{onClick:l[8]||(l[8]=(0,c.iM)((function(){return e.openLogin&&e.openLogin.apply(e,arguments)}),["stop"]))},(0,o.zw)(e.$tr("login")),1)],512),[[c.F8,!e.isLoginFlag]]),(0,t._)("input",{ref:"fileUploadInput",onChange:l[9]||(l[9]=function(){return e.fileUploadInputChange&&e.fileUploadInputChange.apply(e,arguments)}),style:{display:"none"},type:"file",name:"file",accept:"image/gif, image/jpeg, image/jfif, image/jpg, image/png, image/pjpeg, image/pjp, image/webp,image/svg+xml"},null,544)],2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.uploadList,(function(l,n){return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,o.C_)(["list-item",{true:e.bgUrl===l,loading:e.changeToUrl&&e.changeToUrl!==e.bgUrl&&e.changeToUrl===l}]),onClick:function(n){return e.itemClick(l)}},[(0,t.Wm)(R,{src:l+"?imageView2/2/w/200/format/webp/interlace/1",fit:"cover"},null,8,["src"]),(0,t._)("div",x,[A,P,(0,t.wy)((0,t._)("i",{class:"iconfont icon-shanchu1 close-btn",onClick:(0,c.iM)((function(a){return e.deleteUpload(n,l)}),["stop"])},null,8,$),[[c.F8,e.bgUrl!==l]])])],10,N)),[[c.F8,e.isLoginFlag]])})),256))])],512),[[c.F8,"upload"===e.activeAddIconTabs]]),(0,t.Wm)(J,{modelValue:e.webImageConfig.show,"onUpdate:modelValue":l[14]||(l[14]=function(l){return e.webImageConfig.show=l}),class:"webImage-add-dialog","destroy-on-close":"",onClose:e.cancelWebImage},{default:(0,t.w5)((function(){return[(0,t._)("div",V,(0,o.zw)(e.$tr("url")),1),(0,t._)("div",null,[(0,t.wy)((0,t._)("input",{"onUpdate:modelValue":l[11]||(l[11]=function(l){return e.webImageConfig.url=l}),placeholder:e.$tr("ImageURL"),type:"text"},null,8,K),[[c.nr,e.webImageConfig.url]])]),(0,t._)("div",q,[(0,t._)("div",{class:"cancel",onClick:l[12]||(l[12]=function(){return e.cancelWebImage&&e.cancelWebImage.apply(e,arguments)})},(0,o.zw)(e.$tr("cancel")),1),(0,t._)("div",{class:"confirm",onClick:l[13]||(l[13]=function(){return e.addWebImage&&e.addWebImage.apply(e,arguments)})},(0,o.zw)(e.$tr("confirm")),1)])]})),_:1},8,["modelValue","onClose"])])])}]])}}]);